---
phase: 02-code-quality
plan: 03
type: execute
depends_on: []
files_modified: [src/config/constants.ts, src/hooks/useSystemMetrics.ts, src/hooks/useContainers.ts]
---

<objective>
하드코딩된 폴링 간격과 설정 값을 상수 파일로 추출하여 유지보수성을 높입니다.

Purpose: 매직 넘버가 코드 곳곳에 흩어져 있으면 값 변경 시 모든 위치를 찾아야 하고, 의도를 파악하기 어렵습니다.
Output: 중앙 집중화된 설정 상수와 일관된 폴링 간격
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONCERNS.md

**현재 하드코딩된 값들:**
- `src/hooks/useSystemMetrics.ts`: 5000ms (5초) 폴링 간격
- `src/hooks/useContainers.ts`: 10000ms (10초) 폴링 간격
- `src/lib/auth.ts`: JWT 만료 시간 (15분 = 60 * 15)

**목표:**
- 폴링 간격을 중앙 상수로 관리
- 의미 있는 이름으로 의도 명확화
</context>

<tasks>

<task type="auto">
  <name>Task 1: 설정 상수 파일 생성</name>
  <files>src/config/constants.ts</files>
  <action>
1. `src/config/constants.ts` 파일 생성
2. 폴링 관련 상수 정의:
   ```typescript
   // 폴링 간격 (밀리초)
   export const POLLING_INTERVALS = {
     SYSTEM_METRICS: 5000,    // 시스템 메트릭: 5초
     CONTAINERS: 10000,       // 컨테이너 목록: 10초
     CONTAINER_LOGS: 3000,    // 컨테이너 로그: 3초 (현재 미사용)
   } as const;

   // JWT 설정
   export const AUTH_CONFIG = {
     JWT_EXPIRY_SECONDS: 15 * 60,  // 15분
     COOKIE_NAME: 'auth-token',
   } as const;
   ```
3. 기존 services.ts와 같은 config/ 디렉토리에 위치

**주의:**
- `as const`로 리터럴 타입 유지
- 주석으로 단위와 의미 명시
  </action>
  <verify>TypeScript 컴파일 성공: `npx tsc --noEmit`</verify>
  <done>중앙 집중화된 상수 파일 생성</done>
</task>

<task type="auto">
  <name>Task 2: Hooks에서 상수 사용</name>
  <files>src/hooks/useSystemMetrics.ts, src/hooks/useContainers.ts</files>
  <action>
1. `src/hooks/useSystemMetrics.ts`:
   - import 추가: `import { POLLING_INTERVALS } from '@/config/constants';`
   - 기존: `refetchInterval: 5000`
   - 변경: `refetchInterval: POLLING_INTERVALS.SYSTEM_METRICS`

2. `src/hooks/useContainers.ts`:
   - import 추가: `import { POLLING_INTERVALS } from '@/config/constants';`
   - 기존: `refetchInterval: 10000`
   - 변경: `refetchInterval: POLLING_INTERVALS.CONTAINERS`

**선택사항:** auth.ts에서 JWT 만료 시간도 상수로 교체 가능하나,
이미 Phase 1에서 구현되어 안정화된 코드이므로 이번 범위에서 제외
  </action>
  <verify>`npm run build` 성공</verify>
  <done>하드코딩된 폴링 간격이 상수로 교체됨</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` 성공
- [ ] `npm run lint` 경고/에러 없음
- [ ] 폴링 간격 상수가 hooks에서 사용됨
- [ ] 개발 서버에서 정상 동작 (메트릭 갱신 확인)
</verification>

<success_criteria>

- 상수 파일에서 폴링 간격 관리
- Hooks가 중앙 상수 참조
- 빌드 및 린트 통과
- Phase 2 완료
</success_criteria>

<output>
After completion, create `.planning/phases/02-code-quality/02-03-SUMMARY.md`
</output>
