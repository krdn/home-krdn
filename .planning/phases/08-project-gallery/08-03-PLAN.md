---
phase: 08-project-gallery
plan: 03
type: execute
depends_on: ["08-01"]
files_modified: [src/components/projects/ProjectImage.tsx, src/lib/imageUtils.ts, public/images/projects/.gitkeep]
---

<objective>
프로젝트 이미지 최적화 및 미디어 처리를 구현합니다.

Purpose: 프로젝트 이미지를 효율적으로 로드하고 표시하여 사용자 경험을 향상시킵니다.
Output: 최적화된 이미지 컴포넌트, 이미지 유틸리티, 플레이스홀더 이미지
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-project-gallery/08-01-SUMMARY.md

**참고 패턴:**
@src/lib/utils.ts - 기존 유틸리티 패턴
@src/components/ui/Skeleton.tsx - 로딩 스켈레톤 패턴

**Tech stack available:** Next.js 16 (next/image), React 19, Tailwind CSS
**Established patterns:** 유틸리티 in src/lib/, 컴포넌트 in src/components/
</context>

<tasks>

<task type="auto">
  <name>Task 1: 이미지 유틸리티 함수 생성</name>
  <files>src/lib/imageUtils.ts</files>
  <action>
  이미지 처리를 위한 유틸리티 함수를 생성합니다:

  ```typescript
  // 플레이스홀더 이미지 URL 생성
  export function getPlaceholderImage(
    width: number,
    height: number,
    text?: string
  ): string;

  // 이미지 aspect ratio 계산
  export function getAspectRatio(width: number, height: number): string;

  // 이미지 크기 최적화 (responsive sizes)
  export function getResponsiveSizes(maxWidth: number): string;

  // 블러 데이터 URL 생성 (shimmer 효과)
  export function getShimmerDataUrl(width: number, height: number): string;

  // 카테고리별 기본 이미지 경로
  export function getDefaultProjectImage(category: ProjectCategory): string;
  ```

  shimmer 효과는 base64 SVG로 구현합니다.
  </action>
  <verify>import { getPlaceholderImage } from '@/lib/imageUtils' 정상 동작</verify>
  <done>모든 이미지 유틸리티 함수가 정의됨</done>
</task>

<task type="auto">
  <name>Task 2: ProjectImage 컴포넌트 구현</name>
  <files>src/components/projects/ProjectImage.tsx</files>
  <action>
  최적화된 이미지 표시 컴포넌트를 구현합니다:

  - next/image 컴포넌트 래퍼
  - 로딩 중 shimmer 효과 (blurDataURL)
  - 이미지 로드 실패 시 플레이스홀더 표시
  - 반응형 sizes 속성 자동 설정
  - lazy loading 기본 적용
  - 이미지 갤러리 모드 지원 (여러 이미지)

  Props:
  ```typescript
  interface ProjectImageProps {
    src: string;
    alt: string;
    width?: number;
    height?: number;
    priority?: boolean;
    className?: string;
    fallbackCategory?: ProjectCategory;
  }
  ```

  React.memo로 최적화합니다.
  </action>
  <verify>npm run build 성공, 이미지 렌더링 확인</verify>
  <done>ProjectImage 컴포넌트가 최적화된 이미지를 표시</done>
</task>

<task type="auto">
  <name>Task 3: 프로젝트 이미지 디렉토리 및 플레이스홀더 설정</name>
  <files>public/images/projects/.gitkeep, src/config/projects.ts</files>
  <action>
  이미지 저장소와 기본 이미지를 설정합니다:

  1. public/images/projects/ 디렉토리 생성
  2. .gitkeep 파일로 디렉토리 유지
  3. projects.ts의 이미지 경로를 실제 경로로 업데이트
     - 실제 이미지가 없는 프로젝트는 플레이스홀더 URL 사용
     - 플레이스홀더는 imageUtils.ts의 getPlaceholderImage 사용

  이미지 네이밍 컨벤션:
  - /images/projects/{slug}/main.png (메인 이미지)
  - /images/projects/{slug}/screenshot-{n}.png (스크린샷)
  </action>
  <verify>빌드 시 이미지 경로 오류 없음</verify>
  <done>이미지 디렉토리 구조가 설정됨</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` 성공
- [ ] 이미지 로딩 시 shimmer 효과 동작
- [ ] 이미지 로드 실패 시 플레이스홀더 표시
- [ ] public/images/projects/ 디렉토리 존재
</verification>

<success_criteria>

- 모든 태스크 완료
- ProjectImage 컴포넌트가 최적화된 이미지 표시
- 이미지 유틸리티 함수 동작
- 플레이스홀더 이미지 정상 표시
</success_criteria>

<output>
After completion, create `.planning/phases/08-project-gallery/08-03-SUMMARY.md`
</output>
